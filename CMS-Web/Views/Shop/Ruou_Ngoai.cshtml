@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var _ListSlider = Session["SliderSession"] as List<CMS_DTO.CMSSession.SliderSession>;
}
@model CMS_DTO.CMSProduct.ProductViewModels
<div class="page-banner">
    <nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="@Url.Action("Index","Home")">Home</a></li>
            <li class="breadcrumb-item"><a href="@Url.Action("Index","Shop", new { q = "" })">Product</a></li>
            @if (!string.IsNullOrEmpty(Model.CurrentCateAlias))
            {
                <li class="breadcrumb-item active" aria-current="page">@Model.CurrentCategoryName</li>
            }

        </ol>
    </nav>
</div>
<div class="bg">
    <div class="container">
        <div class="row mt-3">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-12">
                        <div class="wr-filter">
                            <ul class="list-unstyled list-inline">
                                <li class="list-inline-item">
                                    <div class="dropdown">
                                        <a class="btn btn-secondary btn-filter dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            @if (!String.IsNullOrEmpty(Model.CurrentSortNew))
                                            {
                                                @: Mới nhất
                                            }
                                            else if (!string.IsNullOrEmpty(Model.CurrentSortPrice) && Model.CurrentSortPrice.ToLower() == "asc")
                                            {
                                                @:Price tăng dần
                                            }
                                            else if (!string.IsNullOrEmpty(Model.CurrentSortPrice) && Model.CurrentSortPrice.ToLower() == "desc")
                                            {
                                                @: Price giảm dần
                                            }
                                            else
                                            {
                                                @: Sắp theo
                                            }

                                        </a>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" href="@Url.Action("Ruou_Ngoai","Shop", new {  page = Model.CurrentPage, a = "desc" })">Mới nhất</a>
                                            <a class="dropdown-item" href="@Url.Action("Ruou_Ngoai","Shop", new {  page = Model.CurrentPage, pr = "asc" })">Price tăng dần</a>
                                            <a class="dropdown-item" href="@Url.Action("Ruou_Ngoai","Shop", new {  page = Model.CurrentPage, pr = "desc" })">Price giảm dần</a>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div>
                    <p><span style="font-family: tahoma, arial, helvetica, sans-serif;">Li&ecirc;n hệ:  0388.910.886. Qu&agrave; Tết Việt-Chuy&ecirc;n cung cấp giỏ qu&agrave; tết, hộp qu&agrave; tết, rượu tết cao cấp 2020 - Uy t&iacute;n - chất lượng - chiết khấu cao - giao h&agrave;ng tận nơi.</span></p>
                </div>
                <div class="row wr-product-list">
                    @if (Model.ListProduct != null && Model.ListProduct.Any())
                    {
                        foreach (var item in Model.ListProduct)
                        {
                            <div class="col-md-4 rainbow_0 wow fadeInUp">
                                <div class="productitem">
                                    <div>
                                        <a href="@Url.Action("Detail", "Shop", new { c = item.AliasCate, q = item.Alias })">
                                            <img src="@item.ImageURL" alt="@item.ProductName" />
                                        </a>
                                    </div>

                                    <div class="productitem-detail">
                                        <h2><a href="@Url.Action("Detail", "Shop", new { c = item.AliasCate, q = item.Alias })">@item.ProductName</a></h2>

                                        <div class="box-price">@item.sPrice</div>
                                    </div>
                                </div>
                            </div>
                        }
                    }

                </div>
                @if (Model.ListProduct != null && Model.ListProduct.Any())
                {
                    var _previous_disabled = Model.CurrentPage == 1 ? "disabled" : "";
                    var _next_disabled = Model.CurrentPage == Model.TotalPage ? "disabled" : "";
                    <ul class="pagination pagination-lg d-inline-flex">
                        <li class="page-item @_previous_disabled">
                            <a class="page-link" href="@Url.Action("Ruou_Ngoai", "Shop", new {  page = Model.CurrentPage - 1, a = Model.CurrentSortNew, pr= Model.CurrentSortPrice })" tabindex="-1">
                                <span aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        @for (int i = 1; i <= Model.TotalPage; i++)
                        {
                            if (i == Model.CurrentPage)
                            {
                                <li class="page-item hidden-sm-down active">
                                    <a class="page-link" href="#">@Model.CurrentPage <span class="sr-only">(current)</span></a>
                                </li>
                            }
                            else
                            {
                                <li class="page-item hidden-sm-down">
                                    <a class="page-link" href="@Url.Action("Ruou_Ngoai", "Shop", new { page = i, a = Model.CurrentSortNew, pr= Model.CurrentSortPrice })">@i</a>
                                </li>
                            }
                        }
                        <li class="page-item @_next_disabled">
                            <a class="page-link" href="@Url.Action("Ruou_Ngoai", "Shop", new { page = Model.CurrentPage + 1, a = Model.CurrentSortNew, pr= Model.CurrentSortPrice })">
                                <span aria-hidden="true">&raquo;</span>
                                <span class="sr-only">Next</span>
                            </a>
                        </li>
                    </ul>
                }

            </div>

        </div>
    </div>
</div>
